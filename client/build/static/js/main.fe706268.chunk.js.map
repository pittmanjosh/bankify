{"version":3,"sources":["context.js","auth/firebase.js","utils/hash.js","auth/fbauth.js","data/dal.js","hooks/useInput.js","pages/register.js","pages/login.js","pages/home.js","data/constants.js","components/Nav.js","components/Content.js","components/BadBank.js","App.js","index.js"],"names":["BankContext","createContext","dotenv","config","instance","firebaseConfig","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","hasher","password","hashSync","genSaltSync","app","window","firebase","initializeApp","auth","getAuth","login","email","userId","unhashedPwd","hashedPwd","undefined","signInWithEmailAndPassword","then","result","user","uid","catch","e","console","log","message","loginAuth","register","confirmed","value","clear","createUserWithEmailAndPassword","accessToken","registerAuth","useInput","initialValue","useState","setValue","onChange","event","target","Register","fname","lname","confirmPassword","Container","Card","style","maxWidth","minWidth","Header","Form","onSubmit","preventDefault","className","Group","Label","FloatingLabel","controlId","label","placeholder","autoComplete","required","type","Button","Login","Body","home","PAGES","title","component","ifUser","ifNoUser","MyNav","Navbar","collapseOnSelect","expand","bg","variant","sticky","Brand","href","Toggle","Collapse","id","Nav","Object","keys","map","x","Content","page","useContext","ctx","JSON","stringify","BadBank","setPage","Provider","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.fe706268.chunk.js","sourcesContent":["import { createContext } from \"react\";\n\nconst BankContext = createContext({});\n\nexport default BankContext;","import firebase from 'firebase/compat/app';\nimport dotenv from 'dotenv';\ndotenv.config();\n\n// Your web app's Firebase configuration\nconst firebaseConfig = {\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\n  appId: process.env.REACT_APP_FIREBASE_APP_ID,\n};\n\nlet instance;\n\nexport default function getFirebase() {\n  if (typeof window !== \"undefined\") {\n    if (instance) return instance;\n    instance = firebase.initializeApp(firebaseConfig);\n    return instance;\n  }\n\n  return null;\n}\n","import {hashSync, genSaltSync} from 'bcryptjs';\n\nexport default function hasher(password) {\n  return hashSync(password, genSaltSync());\n}\n","import getFirebase from \"./firebase\";\nimport { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut, onAuthStateChanged } from \"firebase/auth\";\nimport hasher from \"../utils/hash\";\n\nconst app = getFirebase();\nconst auth = getAuth(app);\n\nexport function authState() {\n  const unsubscribe = onAuthStateChanged(auth, (user) => {\n    console.log(user);\n    return user;\n  });\n\n  unsubscribe();\n  return null;\n}\n\nexport function loginAuth(email, unhashedPwd) {\n  const hashedPwd = hasher(unhashedPwd);\n  let userId = undefined;\n\n  signInWithEmailAndPassword(auth, email, hashedPwd)\n    .then((result) => {userId = result.user.uid})\n    .catch((e) => console.log(e.message));\n  \n  return userId;\n}\n\nexport function logoutAuth() {\n  signOut(auth).then((result) => console.log(result));\n}\n\nexport function registerAuth(email, unhashedPwd) {\n  const hashedPwd = hasher(unhashedPwd);\n\n  createUserWithEmailAndPassword(auth, email, hashedPwd)\n    .then((result) => console.log(result.user.accessToken, result.user.email))\n    .catch((e) => console.log(e.message));\n}\n","import { loginAuth, logoutAuth, registerAuth, authState } from \"../auth/fbauth\";\n\nexport function login(email,password) {\n  // receive unique userId from firebase\n  const userId = loginAuth(email,password);\n  return userId;\n}\n\nexport function register(email,password,confirmed) {\n  if (password !== confirmed.value) {\n    console.log(\"Passwords do not match\");\n    confirmed.clear();\n    return null;\n  }\n  const userId = registerAuth(email,password);\n  if (userId) {\n    // createUser(userId,fname,lname,email,\"0.00\")\n    return userId;\n  } else {\n    return null;\n  }\n}\n\nexport function logout() {\n  logoutAuth()\n}\n\nexport function authenticate() {\n  authState()\n}","import { useState } from \"react\";\n\nexport default function useInput(initialValue) {\n  const [value, setValue] = useState(initialValue);\n\n  const handleChange = (event) => {\n    setValue(event.target.value);\n  };\n\n  return {\n    value,\n    onChange: handleChange,\n    clear: () => setValue(\"\"),\n  };\n}\n","import { Button, Card, Container, FloatingLabel, Form } from \"react-bootstrap\";\nimport { register } from \"../data/dal\";\nimport useInput from \"../hooks/useInput\";\n\nexport default function Register() {\n  const fname = useInput(\"\");\n  const lname = useInput(\"\");\n  const email = useInput(\"\");\n  const password = useInput(\"\");\n  const confirmPassword = useInput(\"\");\n\n  const resetForm = () => {\n    fname.clear();\n    lname.clear();\n    email.clear();\n    password.clear();\n    confirmPassword.clear();\n  };\n\n  const submitForm = (event) => {\n    event.preventDefault();\n    let pwdMatch = password.value === confirmPassword.value;\n    let userId = register(\n      email.value,\n      password.value,\n      confirmPassword\n    );\n    if (userId) resetForm();\n  };\n\n  return (\n    <Container>\n      <Card style={{ maxWidth: \"36rem\", minWidth: \"18rem\" }}>\n        <Card.Header><h2>Register Account</h2></Card.Header>\n        <Form onSubmit={submitForm} className=\"mb-3\">\n          <Form.Group className=\"mb-3\">\n            <Form.Label className=\"mb-3\">Name</Form.Label>\n            <FloatingLabel\n              controlId=\"floatingInput\"\n              label=\"First Name\"\n              className=\"mb-3\"\n            >\n              <input\n                placeholder=\"First Name\"\n                autoComplete=\"given-name\"\n                {...fname}\n                className=\"form-control mb-3\"\n                required\n              />\n            </FloatingLabel>\n            <FloatingLabel\n              controlId=\"floatingInput\"\n              label=\"Last Name\"\n              className=\"mb-3\"\n            >\n              <input\n                placeholder=\"Last Name\"\n                autoComplete=\"family-name\"\n                {...lname}\n                className=\"form-control mb-3\"\n                required\n              />\n            </FloatingLabel>\n          </Form.Group>\n          <Form.Group>\n            <Form.Label>Email</Form.Label>\n            <FloatingLabel\n              controlId=\"floatingInput\"\n              label=\"Email\"\n              className=\"mb-3\"\n            >\n              <input\n                type=\"email\"\n                placeholder=\"Email\"\n                autoComplete=\"email\"\n                className=\"form-control mb-3\"\n                {...email}\n                required\n              />\n            </FloatingLabel>\n          </Form.Group>\n          <Form.Group>\n            <Form.Label>Password</Form.Label>\n            <FloatingLabel\n              controlId=\"floatingPassword\"\n              label=\"New Password\"\n              className=\"mb-3\"\n            >\n              <input\n                placeholder=\"New Password\"\n                autoComplete=\"new-password\"\n                {...password}\n                className=\"form-control mb-3\"\n                required\n              />\n            </FloatingLabel>\n            <FloatingLabel\n              controlId=\"floatingPassword\"\n              label=\"Confirm Password\"\n              className=\"mb-3\"\n            >\n              <input\n                placeholder=\"Confirm Password\"\n                autoComplete=\"new-password\"\n                {...confirmPassword}\n                className=\"form-control mb-3\"\n                required\n              />\n            </FloatingLabel>\n          </Form.Group>\n          <Button type=\"submit\">Register</Button>\n        </Form>\n      </Card>\n    </Container>\n  );\n}\n","import { Button, Card, Container, FloatingLabel, Form } from \"react-bootstrap\";\nimport { login } from \"../data/dal\";\nimport useInput from \"../hooks/useInput\";\n\nexport default function Login() {\n  const email = useInput(\"\");\n  const password = useInput(\"\");\n\n  const submitForm = (event) => {\n    event.preventDefault();\n    login(email.value, password.value);\n    email.clear();\n    password.clear();\n  };\n\n  return (\n    <Container>\n      <Card style={{ maxWidth: \"36rem\", minWidth: \"18rem\" }}>\n        <Card.Header><h2>Login</h2></Card.Header>\n        <br/>\n        <Card.Body>\n          <Form onSubmit={submitForm} className=\"mb-3\">\n            <Form.Group>\n              <FloatingLabel\n                controlId=\"floatingInput\"\n                label=\"Email\"\n                className=\"mb-3\"\n              >\n                <input\n                  type=\"email\"\n                  placeholder=\"Email\"\n                  autoComplete=\"email\"\n                  className=\"form-control mb-3\"\n                  {...email}\n                  required\n                />\n              </FloatingLabel>\n            </Form.Group>\n            <br/>\n            <Form.Group>\n              <FloatingLabel\n                controlId=\"floatingPassword\"\n                label=\"Password\"\n                className=\"mb-3\"\n              >\n                <input\n                  placeholder=\"Password\"\n                  autoComplete=\"current-password\"\n                  {...password}\n                  className=\"form-control mb-3\"\n                  required\n                />\n              </FloatingLabel>\n            </Form.Group>\n            <Button type=\"submit\">Register</Button>\n          </Form>\n        </Card.Body>\n      </Card>\n    </Container>\n  );\n}\n","import React from 'react'\n\nexport default function home() {\n  return (\n    <div>\n      Home\n    </div>\n  )\n}\n","import Register from '../pages/register';\nimport Login from '../pages/login';\nimport Home from '../pages/home';\n\nexport const PAGES = {\n  \"register\": {\n    title: \"Register\",\n    component: <Register/>,\n    ifUser: false,\n    ifNoUser: true\n  },\n  \"login\": {\n    title: \"Login\",\n    component: <Login/>,\n    ifUser: false,\n    ifNoUser: true\n  },\n  \"home\": {\n    title: \"Home\",\n    component: <Home/>,\n    ifUser: true,\n    ifNoUser: true\n  },\n  \"services\": {\n    title: \"Services\",\n    component: <h1>Services</h1>,\n    ifUser: true,\n    ifNoUser: false\n  },\n  \"alldata\": {\n    title: \"All Data\",\n    component: <h1>All Data</h1>,\n    ifUser: true,\n    ifNoUser: true\n  }\n}","import React from \"react\";\nimport { Nav, Navbar, Container } from \"react-bootstrap\";\nimport Link from \"./Link\";\nimport {PAGES} from '../data/constants';\n\nexport default function MyNav() {\n  return (\n    <Navbar collapseOnSelect expand=\"md\" bg=\"dark\" variant=\"dark\" sticky>\n      <Container className=\"justify-content-space-between\">\n        <Navbar.Brand href=\"#home\">React-Bootstrap</Navbar.Brand>\n        <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />Services\n        <Navbar.Collapse id=\"responsive-navbar-nav\">\n          <Nav >\n            {Object.keys(PAGES).map(x=>{\n              <Link name={x.title}/>\n            })}\n          </Nav>\n        </Navbar.Collapse>\n      </Container>\n    </Navbar>\n  );\n}\n","import { useContext } from 'react';\nimport ctx from '../context';\nimport {PAGES} from '../data/constants';\n\nexport default function Content() {\n  const { page } = useContext(ctx);\n\n  return JSON.stringify(PAGES[page].component)\n}\n","import MyNav from \"./Nav\";\nimport { Container } from \"react-bootstrap\";\nimport { useState } from \"react\";\nimport BankContext from \"../context\";\nimport Content from \"./Content\";\n\nexport default function BadBank() {\n  const [user, setUser] = useState(\"user\");\n  const [page, setPage] = useState(\"home\");\n\n  return (\n    <div className=\"App\">\n      <BankContext.Provider value={(user, setUser, page, setPage)}>\n        <MyNav user={user} setPage={setPage} />\n        {/* import css as well */}\n        <Container>\n          {/* <Register /> */}\n          <Content/>\n        </Container>\n      </BankContext.Provider>\n    </div>\n  );\n}","import \"./App.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"bootstrap\";\nimport BadBank from \"./components/BadBank\";\n\nexport default function App() {\n  return (\n    <BadBank/>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}