(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{108:function(e,t,c){},109:function(e,t,c){},142:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),s=c(41),r=c.n(s),i=(c(108),c(12)),j=(c(109),c(110),c(141),c(3)),o=Object(n.createContext)({}),l=c(150),b=c(148),d=c(15),u=c(95),h=c(156),O=c(151),x=c(96),m=c(146),f=c(102),p=c(94);c.n(p).a.config();var g,v={apiKey:"AIzaSyCV1S46-jZ-Xd21HVeWr10ZlfyCi78nXAw",authDomain:"bankify-capstone.firebaseapp.com",projectId:"bankify-capstone",storageBucket:"bankify-capstone.appspot.com",messagingSenderId:"676135899184",appId:"1:676135899184:web:c096fc5caa04eea7a15df5"};var y=c(35),w=c(1),N="undefined"!==typeof window?g||(g=f.a.initializeApp(v)):null,k=Object(y.c)(N);function C(){return k}C().currentUser;var S=C();function D(e,t,c,n){Object(y.b)(S,t,c).then((function(e){return n("You are now registered!","success"),e})).then((function(t){return Object(y.h)(t,{displayName:e,profileURL:"https://ui-avatars.com/api/?name=".concat(e)}).catch((function(e){return n(e.message,"danger","Name not filed!")})),t})).then((function(e){(function(e){var t=new Headers;t.append("Authorization","Bearer ".concat(e.accessToken)),fetch("https://badbank-pittman.herokuapp.com/api",{method:"POST",headers:t,redirect:"follow"}).then((function(e){return e.text()})).then((function(e){return console.log(e)})).catch((function(e){return console.log("error",e)}))})(e).catch((function(e){return n(e.message,"danger","Database Failure")}))})).catch((function(e){return n(e.message,"danger","Registration Failed!")}))}function A(e){var t=Object(n.useState)(e),c=Object(i.a)(t,2),a=c[0],s=c[1];return{value:a,onChange:function(e){s(e.target.value)},clear:function(){return s(e)}}}function B(e){var t=e.label,c=e.ac,n=e.state,a=e.type,s=n.value,r=n.onChange;return Object(w.jsx)("input",{type:a||"text",placeholder:t,autoComplete:c,className:"form-control mb-3",value:s,onChange:r,required:!0})}function I(){var e=Object(n.useContext)(o).createAlert,t=A(""),c=A(""),a=A(""),s=A("");return Object(w.jsx)(u.a,{sm:8,lg:7,xl:6,children:Object(w.jsxs)(h.a,{style:{maxWidth:"36rem",minWidth:"18rem"},children:[Object(w.jsx)(h.a.Header,{children:Object(w.jsx)("h2",{children:"Register Account"})}),Object(w.jsx)(h.a.Body,{className:"justify-content-center align-item-center",children:Object(w.jsxs)(O.a,{onSubmit:function(n){if(n.preventDefault(),!(a.value===s.value))return s.clear(),void e("Passwords do not match!","danger");D(t.value,c.value,a.value,e)},className:"mb-3",children:[Object(w.jsxs)(O.a.Group,{className:"mb-3",children:[Object(w.jsx)(O.a.Label,{className:"mb-3",children:"Name"}),Object(w.jsx)(x.a,{controlId:"floatingInput",label:"Account Name",className:"mb-3",children:Object(w.jsx)(B,{label:"Account Name",ac:"name",state:t})})]}),Object(w.jsxs)(O.a.Group,{children:[Object(w.jsx)(O.a.Label,{children:"Email"}),Object(w.jsx)(x.a,{controlId:"floatingInput",label:"Email",className:"mb-3",children:Object(w.jsx)(B,{label:"Email",ac:"email",state:c})})]}),Object(w.jsxs)(O.a.Group,{children:[Object(w.jsx)(O.a.Label,{children:"Password"}),Object(w.jsx)(x.a,{controlId:"floatingPassword",label:"New Password",className:"mb-3",children:Object(w.jsx)(B,{type:"password",label:"New Password",ac:"new-password",state:a})}),Object(w.jsx)(x.a,{controlId:"floatingPassword",label:"Confirm Password",className:"mb-3",children:Object(w.jsx)(B,{type:"password",label:"Confirm Password",ac:"confirm-password",state:s})})]}),Object(w.jsx)(m.a,{type:"submit",children:"Register"})]})})]})})}var L=c(154);function P(){var e=Object(n.useContext)(o).createAlert,t=A(""),c=A("");return Object(w.jsx)(u.a,{sm:8,lg:7,xl:6,children:Object(w.jsxs)(h.a,{children:[Object(w.jsx)(h.a.Header,{children:Object(w.jsx)("h2",{children:"Login"})}),Object(w.jsx)("br",{}),Object(w.jsxs)(h.a.Body,{children:[Object(w.jsx)(h.a.Title,{children:"Login Methods:"}),Object(w.jsxs)(L.a,{defaultActiveKey:"1",children:[Object(w.jsxs)(L.a.Item,{eventKey:"0",children:[Object(w.jsx)(L.a.Header,{children:"Email and Password"}),Object(w.jsxs)(L.a.Body,{children:[Object(w.jsxs)(O.a,{onSubmit:function(n){n.preventDefault();var a=function(e,t,c){var n;return Object(y.e)(S,e,t).then((function(){c("Welcome back to Bankify","success","Successful Login!"),n=!0})).catch((function(e){return c(e.message,"danger")})),n}(t.value,c.value,e);a&&(t.clear(),c.clear())},className:"mb-3",children:[Object(w.jsx)(O.a.Group,{children:Object(w.jsx)(x.a,{controlId:"floatingInput",label:"Email",className:"mb-3",children:Object(w.jsx)(B,{label:"Email",ac:t,state:t})})}),Object(w.jsx)("br",{}),Object(w.jsx)(O.a.Group,{children:Object(w.jsx)(x.a,{controlId:"floatingPassword",label:"Password",className:"mb-3",children:Object(w.jsx)(B,{label:"Password",ac:"current-password",state:c})})}),Object(w.jsx)(m.a,{type:"submit",children:"Login"})]}),Object(w.jsx)(h.a.Footer,{})]})]}),Object(w.jsx)(L.a.Item,{eventKey:"1",children:Object(w.jsx)(L.a.Header,{onClick:function(t){t.preventDefault(),function(e){var t=new y.a;t.addScope("profile"),t.addScope("email"),Object(y.f)(S,t).then((function(t){e("Welcome back to Bankify","success","Successful Login!")})).catch((function(t){return e(t.message,"danger")}))}(e)},children:"Google"})})]})]}),Object(w.jsx)(h.a.Footer,{})]})})}function W(e,t){var c=Object(n.useState)(!1),a=Object(i.a)(c,2),s=a[0],r=a[1];return{show:s,open:function(){return r(!0)},close:function(){return r(!1)},transaction:e,account:t}}var E=c(147);function H(e){var t=e.msg,c=e.type,n=void 0===c?"danger":c,a=e.heading,s=void 0===a?"":a,r=e.reset,i=void 0===r?"":r;return t?(setTimeout(i,4e3),Object(w.jsxs)(E.a,{variant:n,onClose:i,dismissible:!0,children:[s&&Object(w.jsx)(E.a.Heading,{children:s}),Object(w.jsx)("p",{children:t})]})):null}var F=c(155);function T(e){var t=Object(n.useState)(""),c=Object(i.a)(t,2),a=c[0],s=c[1],r=Object(n.useState)(""),j=Object(i.a)(r,2),o=j[0],l=j[1],b=e.transaction,d=e.account,u=e.show,h=e.close,x=e.state,f=Object(i.a)(x,2),p=f[0],g=f[1],v=function(){l("Must be a Number!")},y=function(){l("")},N=function(e){e.preventDefault(),s(e.target.value)},k=function(){var e=Number(a);return Number.isInteger(e)?e<=0||e<1e6?(v(),s(""),!1):"Deposit"===b||e<=p||(v("Withdraw may not exceed existing balance of $".concat(p)),s(p),!1):(v(),s(""),!1)},C=function(e){return p-e},S=function(e){return p+e},D=function(){return Object(w.jsxs)(O.a.Group,{className:"mb-3",children:[Object(w.jsx)(O.a.Label,{children:"".concat(b," Amount")}),Object(w.jsx)("input",{id:"modal-input",autoComplete:"off",className:"form-control mb-3",value:a,onChange:N,required:!0})]})},A=function(){s(""),h(),y()};return Object(w.jsxs)(F.a,{show:u,onHide:A,backdrop:"static",children:[Object(w.jsx)(F.a.Header,{closeButton:!0,children:Object(w.jsx)(F.a.Title,{children:"".concat(b," into ").concat(d)})}),Object(w.jsxs)(O.a,{onSubmit:function(e){if(e.preventDefault(),k){var t=("Deposit"===b?S:C)(p);g(t),h()}},children:[Object(w.jsxs)(F.a.Body,{children:[Object(w.jsx)(H,{msg:o,reset:y}),Object(w.jsx)(D,{})]}),Object(w.jsxs)(F.a.Footer,{children:[Object(w.jsx)(m.a,{variant:"secondary",onClick:A,children:"End Transaction"}),Object(w.jsx)(m.a,{type:"submit",variant:"primary",children:b})]})]})]})}function U(){var e=Object(n.useState)(0),t=e[0],c=Object(n.useState)(0),a=c[0],s=W("Deposit","Checking"),r=W("Withdraw","Checking"),i=W("Deposit","Savings"),o=W("Withdraw","Savings"),l=C().currentUser,b=l.displayName?l.displayName.toUpperCase():"USER",d=l.photoURL,O=function(){return d||(d="https://react-bootstrap.github.io/logo.svg"),Object(w.jsx)("img",{src:d,className:"avatar-img"})};return Object(w.jsxs)(u.a,{sm:8,lg:7,xl:6,children:[Object(w.jsxs)(h.a,{children:[Object(w.jsx)(R,{children:Object(w.jsx)(O,{})}),Object(w.jsxs)(h.a.Body,{className:"justify-content-center align-item-center",children:[Object(w.jsx)(h.a.Text,{children:"Hello ".concat(b,"!")}),console.log(l),Object(w.jsx)(G,{title:"Checking",balance:t,openDeposit:s.open,openWithdraw:r.open}),Object(w.jsx)("hr",{}),Object(w.jsx)(G,{title:"Savings",balance:a,openDeposit:i.open,openWithdraw:o.open})]})]}),Object(w.jsx)(T,Object(j.a)(Object(j.a)({},s),{},{state:e})),Object(w.jsx)(T,Object(j.a)(Object(j.a)({},r),{},{state:e})),Object(w.jsx)(T,Object(j.a)(Object(j.a)({},i),{},{state:c})),Object(w.jsx)(T,Object(j.a)(Object(j.a)({},o),{},{state:c}))]})}function R(e){return Object(w.jsx)(h.a.Header,{children:Object(w.jsxs)(b.a,{className:"align-items-center",children:[Object(w.jsx)(u.a,{children:Object(w.jsx)("h2",{children:"Dashboard"})}),Object(w.jsx)(u.a,{sm:"3",className:"align-item-end",children:e.children})]})})}function G(e){var t=e.title,c=e.balance,n=e.openDeposit,a=e.openWithdraw;return Object(w.jsxs)("div",{className:"panel-".concat(t.toLowerCase()),children:[Object(w.jsx)(h.a.Title,{children:t}),Object(w.jsx)("br",{}),Object(w.jsxs)("div",{className:"input-group mb-3",children:[Object(w.jsx)("span",{className:"input-group-text",children:"$"}),Object(w.jsx)("span",{className:"form-control","aria-label":"Amount",children:"".concat(c,".00")}),Object(w.jsx)(m.a,{variant:"outline-primary",id:"deposit",onClick:n,children:"Deposit"}),Object(w.jsx)(m.a,{variant:"outline-primary",id:"withdraw",onClick:a,children:"Withdraw"})]})]})}var K=c(27);function $(e){e.user;return Object(w.jsx)(u.a,{sm:8,lg:7,xl:6,children:Object(w.jsxs)(h.a,{children:[Object(w.jsx)(h.a.Header,{children:Object(w.jsx)("h2",{children:"Welcome to Bankify"})}),Object(w.jsxs)(h.a.Body,{children:[Object(w.jsxs)(h.a.Text,{children:[Object(w.jsx)("p",{children:"Bankify is the banking solution for you! With local branches across the United States, we serve our customers with services like: withdraw, deposit, balances, and hack the system."}),Object(w.jsx)("p",{children:"While not FDIC insured, client-side Firebase Authentication does keep you passwords safe. Not bad ehh?"})]}),Object(w.jsx)(K.b,{to:"/register",children:Object(w.jsx)(m.a,{type:"link",children:"Register Now"})}),"      ",Object(w.jsx)(K.b,{to:"/login",children:Object(w.jsx)(m.a,{type:"link",children:"Login"})})]})]})})}var z=c(2),M=c.n(z),q=c(5),J=c(100),V=c.n(J),X=c(149);function Z(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),c=t[0],a=t[1],s=Object(n.useContext)(o).createAlert;function r(){var e;V.a.get("/backdoor").then((function(e){return e.data})).then((function(t){e=t})).catch((function(e){console.log(e)})).then((function(){a(e)})),s(e?"":"Data Fetch Error","danger")}function j(){return c&&0!==c.length?Object(w.jsxs)(X.a,{striped:!0,bordered:!0,hover:!0,style:{tableLayout:"fixed"},children:[Object(w.jsx)("thead",{children:Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{children:"#"}),Object(w.jsx)("th",{children:"Name"}),Object(w.jsx)("th",{children:"Email"}),Object(w.jsx)("th",{children:"uid"}),Object(w.jsx)("th",{children:"Checking Balance"}),Object(w.jsx)("th",{children:"Savings Balance"})]})}),Object(w.jsx)("tbody",{children:c.map((function(e,t){return Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{children:t+1}),Object(w.jsx)("td",{children:e.name||""}),Object(w.jsx)("td",{children:e.email||""}),Object(w.jsxs)("td",{children:[e.uid||""," "]}),Object(w.jsx)("td",{children:"$".concat(String(e.checking),".00")}),Object(w.jsxs)("td",{children:["$".concat(String(e.savings),".00")," "]})]},t)}))})]}):Object(w.jsx)("div",{children:"loading..."})}return Object(n.useEffect)((function(){Object(q.a)(M.a.mark((function e(){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r();case 1:case"end":return e.stop()}}),e)})))()}),[]),Object(w.jsx)(h.a,{children:Object(w.jsx)(h.a.Body,{children:Object(w.jsx)(j,{})})})}function Y(){var e=Object(n.useContext)(o),t=e.user;e.createAlert;return Object(w.jsx)(d.d,{children:Object(w.jsx)(l.a,{fluid:!0,children:Object(w.jsxs)(b.a,{className:"justify-content-center",children:[Object(w.jsx)(d.b,{exact:!0,path:"/register",children:t?Object(w.jsx)(d.a,{to:"/dashboard"}):Object(w.jsx)(I,{})}),Object(w.jsx)(d.b,{exact:!0,path:"/login",children:t?Object(w.jsx)(d.a,{to:"/dashboard"}):Object(w.jsx)(P,{})}),Object(w.jsx)(d.b,{exact:!0,path:"/dashboard",children:t?Object(w.jsx)(U,{}):Object(w.jsx)(d.a,{to:"/"})}),Object(w.jsx)(d.b,{exact:!0,path:"/alldata",children:Object(w.jsx)(Z,{})}),Object(w.jsx)(d.b,{exact:!0,path:"/",children:t?Object(w.jsx)(U,{}):Object(w.jsx)($,{})})]})})})}var Q=c(152),_=c(153);function ee(){return Object(w.jsx)(Q.a,{collapseOnSelect:!0,expand:"md",bg:"dark",variant:"dark",sticky:!0,children:Object(w.jsxs)(l.a,{className:"justify-content-space-between",children:[Object(w.jsx)(K.b,{to:"/",className:"navbar-brand nav-link",children:"Bankify"}),Object(w.jsx)(Q.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(w.jsx)(Q.a.Collapse,{id:"responsive-navbar-nav",className:"justify-content-end",children:Object(w.jsx)(_.a,{children:Object(w.jsx)(te,{})})})]})})}function te(){var e=Object(n.useContext)(o).createAlert,t=function(){return Object(w.jsx)(K.b,{to:"/alldata",className:"nav-link",children:"All Data"})},c=Object(n.useContext)(o).user?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(K.b,{to:"/dashboard",className:"nav-link",children:"Dashboard"}),Object(w.jsx)(t,{}),Object(w.jsx)(K.b,{to:"/",className:"nav-link",onClick:function(){return function(e){Object(y.g)(S).then((function(){e?e("Come back soon!","secondary"):console.log("Successful Logout")})).catch((function(t){e&&e(t.message,"danger")}))}(e)},children:"Logout"})]}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(K.b,{to:"/login",className:"nav-link",children:"Login"}),Object(w.jsx)(K.b,{to:"/register",className:"nav-link",children:"Register"}),Object(w.jsx)(t,{})]});return c}function ce(){var e=Object(n.useContext)(o).user,t=function(){var e=Object(n.useContext)(o);return{msg:e.msg,type:e.type,heading:e.heading,reset:e.reset}}();return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(ee,{}),Object(w.jsx)(H,Object(j.a)({},t)),Object(w.jsx)(Y,{user:e})]})}var ne=Object(n.createContext)();function ae(e){var t=Object(n.useState)((Object(y.d)(S,(function(e){return e}))(),null)),c=Object(i.a)(t,2),a=c[0],s=c[1];return Object(w.jsx)(ne.Provider,{value:{user:a,setUser:s},children:e.children})}function se(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(""),r=Object(i.a)(s,2),j=r[0],l=r[1],b=Object(n.useState)(""),d=Object(i.a)(b,2),u=d[0],h=d[1],O=Object(n.useState)("danger"),x=Object(i.a)(O,2),m=x[0],f=x[1],p=C();Object(y.d)(p,(function(e){a(e)}));var g={msg:j,type:m,heading:u,reset:function(){l(""),f("danger"),h("")}};return Object(w.jsx)(ae,{children:Object(w.jsx)(o.Provider,{value:{user:c,setUser:a,createAlert:function(e,t,c){l(e),f(t),h(c)},alertProps:g},children:Object(w.jsx)(K.a,{children:Object(w.jsx)(ce,{})})})})}r.a.render(Object(w.jsx)(a.a.StrictMode,{children:Object(w.jsx)(se,{})}),document.getElementById("root"))}},[[142,1,2]]]);
//# sourceMappingURL=main.ae03097a.chunk.js.map