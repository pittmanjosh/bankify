{"version":3,"sources":["context.js","auth/firebase.js","utils/hash.js","auth/fbauth.js","data/dal.js","hooks/useInput.js","pages/register.js","pages/login.js","pages/home.js","components/DomRouter.js","App.js","index.js"],"names":["BankContext","createContext","dotenv","config","instance","firebaseConfig","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","hasher","password","hashSync","genSaltSync","app","window","firebase","initializeApp","auth","getAuth","login","email","userId","unhashedPwd","hashedPwd","undefined","signInWithEmailAndPassword","then","result","user","uid","catch","e","console","log","message","loginAuth","register","confirmed","value","clear","createUserWithEmailAndPassword","accessToken","registerAuth","useInput","initialValue","useState","setValue","onChange","event","target","Register","setUser","useContext","ctx","fname","lname","confirmPassword","Container","Card","style","maxWidth","minWidth","Header","Form","onSubmit","preventDefault","className","Group","Label","FloatingLabel","controlId","label","placeholder","autoComplete","required","type","Button","Login","Body","home","DomRouter","Navbar","collapseOnSelect","expand","bg","variant","sticky","to","Toggle","Collapse","id","Nav","onClick","path","App","Provider","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.656754b2.chunk.js","sourcesContent":["import { createContext } from \"react\";\n\nconst BankContext = createContext({});\n\nexport default BankContext;","import firebase from 'firebase/compat/app';\nimport dotenv from 'dotenv';\ndotenv.config();\n\n// Your web app's Firebase configuration\nconst firebaseConfig = {\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\n  appId: process.env.REACT_APP_FIREBASE_APP_ID,\n};\n\nlet instance;\n\nexport default function getFirebase() {\n  if (typeof window !== \"undefined\") {\n    if (instance) return instance;\n    instance = firebase.initializeApp(firebaseConfig);\n    return instance;\n  }\n\n  return null;\n}\n","import {hashSync, genSaltSync} from 'bcryptjs';\n\nexport default function hasher(password) {\n  return hashSync(password, genSaltSync());\n}\n","import getFirebase from \"./firebase\";\nimport { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut, onAuthStateChanged } from \"firebase/auth\";\nimport hasher from \"../utils/hash\";\n\nconst app = getFirebase();\nconst auth = getAuth(app);\n\nexport function authState() {\n  const unsubscribe = onAuthStateChanged(auth, (user) => {\n    console.log(user);\n    return user;\n  });\n\n  unsubscribe();\n  return null;\n}\n\nexport function loginAuth(email, unhashedPwd) {\n  const hashedPwd = hasher(unhashedPwd);\n  let userId = undefined;\n\n  signInWithEmailAndPassword(auth, email, hashedPwd)\n    .then((result) => {userId = result.user.uid})\n    .catch((e) => console.log(e.message));\n  \n  return userId;\n}\n\nexport function logoutAuth() {\n  signOut(auth).then((result) => console.log(result));\n}\n\nexport function registerAuth(email, unhashedPwd) {\n  const hashedPwd = hasher(unhashedPwd);\n\n  createUserWithEmailAndPassword(auth, email, hashedPwd)\n    .then((result) => console.log(result.user.accessToken, result.user.email))\n    .catch((e) => console.log(e.message));\n}\n","import { loginAuth, logoutAuth, registerAuth, authState } from \"../auth/fbauth\";\n\nexport function login(email,password) {\n  // receive unique userId from firebase\n  const userId = loginAuth(email,password);\n  return userId;\n}\n\nexport function register(email,password,confirmed) {\n  if (password !== confirmed.value) {\n    console.log(\"Passwords do not match\");\n    confirmed.clear();\n    return null;\n  }\n  const userId = registerAuth(email,password);\n  if (userId) {\n    // createUser(userId,fname,lname,email,\"0.00\")\n    return userId;\n  } else {\n    return null;\n  }\n}\n\nexport function logout() {\n  logoutAuth()\n}\n\nexport function authenticate() {\n  authState()\n}","import { useState } from \"react\";\n\nexport default function useInput(initialValue) {\n  const [value, setValue] = useState(initialValue);\n\n  const handleChange = (event) => {\n    setValue(event.target.value);\n  };\n\n  return {\n    value,\n    onChange: handleChange,\n    clear: () => setValue(\"\"),\n  };\n}\n","import { Button, Card, Container, FloatingLabel, Form } from \"react-bootstrap\";\nimport { register } from \"../data/dal\";\nimport useInput from \"../hooks/useInput\";\nimport {useContext} from \"react\";\nimport ctx from \"../context\";\n\nexport default function Register() {\n  const { setUser } = useContext(ctx);\n  const fname = useInput(\"\");\n  const lname = useInput(\"\");\n  const email = useInput(\"\");\n  const password = useInput(\"\");\n  const confirmPassword = useInput(\"\");\n\n  const resetForm = () => {\n    fname.clear();\n    lname.clear();\n    email.clear();\n    password.clear();\n    confirmPassword.clear();\n  };\n\n  const submitForm = (event) => {\n    event.preventDefault();\n    let pwdMatch = password.value === confirmPassword.value;\n\n    if (!pwdMatch) {\n      confirmPassword.clear()\n      return;\n    }\n\n    let userId = register(\n      email.value,\n      password.value,\n      confirmPassword\n    );\n    if (userId) {\n      resetForm();\n      setUser(userId)\n    }\n  };\n\n  return (\n    <Container>\n      <Card style={{ maxWidth: \"36rem\", minWidth: \"18rem\" }}>\n        <Card.Header><h2>Register Account</h2></Card.Header>\n        <Form onSubmit={submitForm} className=\"mb-3\">\n          <Form.Group className=\"mb-3\">\n            <Form.Label className=\"mb-3\">Name</Form.Label>\n            <FloatingLabel\n              controlId=\"floatingInput\"\n              label=\"First Name\"\n              className=\"mb-3\"\n            >\n              <input\n                placeholder=\"First Name\"\n                autoComplete=\"given-name\"\n                {...fname}\n                className=\"form-control mb-3\"\n                required\n              />\n            </FloatingLabel>\n            <FloatingLabel\n              controlId=\"floatingInput\"\n              label=\"Last Name\"\n              className=\"mb-3\"\n            >\n              <input\n                placeholder=\"Last Name\"\n                autoComplete=\"family-name\"\n                {...lname}\n                className=\"form-control mb-3\"\n                required\n              />\n            </FloatingLabel>\n          </Form.Group>\n          <Form.Group>\n            <Form.Label>Email</Form.Label>\n            <FloatingLabel\n              controlId=\"floatingInput\"\n              label=\"Email\"\n              className=\"mb-3\"\n            >\n              <input\n                type=\"email\"\n                placeholder=\"Email\"\n                autoComplete=\"email\"\n                className=\"form-control mb-3\"\n                {...email}\n                required\n              />\n            </FloatingLabel>\n          </Form.Group>\n          <Form.Group>\n            <Form.Label>Password</Form.Label>\n            <FloatingLabel\n              controlId=\"floatingPassword\"\n              label=\"New Password\"\n              className=\"mb-3\"\n            >\n              <input\n                type=\"password\"\n                placeholder=\"New Password\"\n                autoComplete=\"new-password\"\n                {...password}\n                className=\"form-control mb-3\"\n                required\n              />\n            </FloatingLabel>\n            <FloatingLabel\n              controlId=\"floatingPassword\"\n              label=\"Confirm Password\"\n              className=\"mb-3\"\n            >\n              <input\n                type=\"password\"\n                placeholder=\"Confirm Password\"\n                autoComplete=\"new-password\"\n                {...confirmPassword}\n                className=\"form-control mb-3\"\n                required\n              />\n            </FloatingLabel>\n          </Form.Group>\n          <Button type=\"submit\">Register</Button>\n        </Form>\n      </Card>\n    </Container>\n  );\n}\n","import { Button, Card, Container, FloatingLabel, Form } from \"react-bootstrap\";\nimport { login } from \"../data/dal\";\nimport useInput from \"../hooks/useInput\";\n\nexport default function Login() {\n  const email = useInput(\"\");\n  const password = useInput(\"\");\n\n  const submitForm = (event) => {\n    event.preventDefault();\n    login(email.value, password.value);\n    email.clear();\n    password.clear();\n  };\n\n  return (\n    <Container>\n      <Card style={{ maxWidth: \"36rem\", minWidth: \"18rem\" }}>\n        <Card.Header><h2>Login</h2></Card.Header>\n        <br/>\n        <Card.Body>\n          <Form onSubmit={submitForm} className=\"mb-3\">\n            <Form.Group>\n              <FloatingLabel\n                controlId=\"floatingInput\"\n                label=\"Email\"\n                className=\"mb-3\"\n              >\n                <input\n                  type=\"email\"\n                  placeholder=\"Email\"\n                  autoComplete=\"email\"\n                  className=\"form-control mb-3\"\n                  {...email}\n                  required\n                />\n              </FloatingLabel>\n            </Form.Group>\n            <br/>\n            <Form.Group>\n              <FloatingLabel\n                controlId=\"floatingPassword\"\n                label=\"Password\"\n                className=\"mb-3\"\n              >\n                <input\n                  placeholder=\"Password\"\n                  autoComplete=\"current-password\"\n                  {...password}\n                  className=\"form-control mb-3\"\n                  required\n                />\n              </FloatingLabel>\n            </Form.Group>\n            <Button type=\"submit\">Register</Button>\n          </Form>\n        </Card.Body>\n      </Card>\n    </Container>\n  );\n}\n","import React from 'react'\n\nexport default function home() {\n  return (\n    <div>\n      Home\n    </div>\n  )\n}\n","import MyNav from \"./Nav\";\nimport { Container, Navbar, Nav } from \"react-bootstrap\";\nimport { useContext, useState } from \"react\";\nimport BankContext from \"../context\";\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\nimport Register from \"../pages/register\";\nimport Login from \"../pages/login\";\nimport Home from \"../pages/home\";\nimport ctx from \"../context\";\n\nexport default function DomRouter() {\n  const { user, setUser} = useContext(ctx);\n\n  return (\n    <Router>\n      <Navbar collapseOnSelect expand=\"md\" bg=\"dark\" variant=\"dark\" sticky>\n        <Container className=\"justify-content-space-between\">\n          <Link to=\"/\" className=\"navbar-brand nav-link\">\n            Bankify\n          </Link>\n          <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\n          <Navbar.Collapse\n            id=\"responsive-navbar-nav\"\n            className=\"justify-content-end\"\n          >\n            <Nav>\n              {!user && (\n                <>\n                  <Link to=\"/login\" className=\"nav-link\">\n                    Login\n                  </Link>\n                  <Link to=\"/register\" className=\"nav-link\">\n                    Register\n                  </Link>\n                  <Link\n                    to=\"/\"\n                    onClick={() => setUser(7)}\n                    className=\"nav-link\"\n                  >\n                    Set User\n                  </Link>\n                </>\n              )}\n              {user && (\n                <Link\n                  to=\"/\"\n                  className=\"nav-link\"\n                  onClick={() => setUser(\"\")}\n                >\n                  Logout\n                </Link>\n              )}\n            </Nav>\n          </Navbar.Collapse>\n        </Container>\n      </Navbar>\n      {/* <MyNav user={user} setPage={setPage} />\n          // import css as well \n          <Container>\n          <Register />\n          <Content/>\n          </Container> \n        */}\n      <Switch>\n        <Container className=\"justify-content-center\">\n          <Route path=\"/register\">\n            <Register />\n          </Route>\n          <Route path=\"/login\">\n            <Login />\n          </Route>\n          <Route path=\"/\">\n            <Home />\n          </Route>\n        </Container>\n      </Switch>\n    </Router>\n  );\n}\n","import \"./App.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"bootstrap\";\nimport DomRouter from \"./components/DomRouter\";\nimport { useState } from \"react\";\nimport BankContext from \"./context\"\n\nexport default function App() {\n  const [user, setUser] = useState(\"\");\n\n  return (\n    <div className=\"App\">\n      <BankContext.Provider value={{ user, setUser }}>\n        <DomRouter/>\n      </BankContext.Provider>\n    </div>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}