(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{108:function(e,t,c){},109:function(e,t,c){},142:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),s=c(41),r=c.n(s),i=(c(108),c(12)),o=(c(109),c(110),c(141),c(3)),j=Object(n.createContext)({}),l=c(150),b=c(148),d=c(15),u=c(96),h=c(156),O=c(151),x=c(97),f=c(146),m=c(102),p=c(95);c.n(p).a.config();var g,v={apiKey:"AIzaSyCV1S46-jZ-Xd21HVeWr10ZlfyCi78nXAw",authDomain:"bankify-capstone.firebaseapp.com",projectId:"bankify-capstone",storageBucket:"bankify-capstone.appspot.com",messagingSenderId:"676135899184",appId:"1:676135899184:web:c096fc5caa04eea7a15df5"};var y=c(35),w=c(1),k="undefined"!==typeof window?g||(g=m.a.initializeApp(v)):null,N=Object(y.c)(k);function C(){return N}var S=c(2),D=c.n(S),A=c(5),B=c(68),I=c.n(B);C().currentUser;var L=C();function P(e,t,c,n){Object(y.b)(L,t,c).then((function(e){return n("You are now registered!","success"),e})).then((function(t){return Object(y.h)(t,{displayName:e,profileURL:"https://ui-avatars.com/api/?name=".concat(e)}).catch((function(e){return n(e.message,"danger","Name not filed!")})),t})).then((function(e){(function(e){var t=new Headers;t.append("Authorization","Bearer ".concat(e.accessToken)),fetch("/api",{method:"POST",headers:t,redirect:"follow"}).then((function(e){return e.text()})).then((function(e){return console.log(e)})).catch((function(e){return console.log("error",e)}))})(e).catch((function(e){return n(e.message,"danger","Database Failure")}))})).catch((function(e){return n(e.message,"danger","Registration Failed!")}))}function W(e){var t=Object(n.useState)(e),c=Object(i.a)(t,2),a=c[0],s=c[1];return{value:a,onChange:function(e){s(e.target.value)},clear:function(){return s(e)}}}function E(e){var t=e.label,c=e.ac,n=e.state,a=e.type,s=n.value,r=n.onChange;return Object(w.jsx)("input",{type:a||"text",placeholder:t,autoComplete:c,className:"form-control mb-3",value:s,onChange:r,required:!0})}function F(){var e=Object(n.useContext)(j).createAlert,t=W(""),c=W(""),a=W(""),s=W("");return Object(w.jsx)(u.a,{sm:8,lg:7,xl:6,children:Object(w.jsxs)(h.a,{style:{maxWidth:"36rem",minWidth:"18rem"},children:[Object(w.jsx)(h.a.Header,{children:Object(w.jsx)("h2",{children:"Register Account"})}),Object(w.jsx)(h.a.Body,{className:"justify-content-center align-item-center",children:Object(w.jsxs)(O.a,{onSubmit:function(n){if(n.preventDefault(),!(a.value===s.value))return s.clear(),void e("Passwords do not match!","danger");P(t.value,c.value,a.value,e)},className:"mb-3",children:[Object(w.jsxs)(O.a.Group,{className:"mb-3",children:[Object(w.jsx)(O.a.Label,{className:"mb-3",children:"Name"}),Object(w.jsx)(x.a,{controlId:"floatingInput",label:"Account Name",className:"mb-3",children:Object(w.jsx)(E,{label:"Account Name",ac:"name",state:t})})]}),Object(w.jsxs)(O.a.Group,{children:[Object(w.jsx)(O.a.Label,{children:"Email"}),Object(w.jsx)(x.a,{controlId:"floatingInput",label:"Email",className:"mb-3",children:Object(w.jsx)(E,{label:"Email",ac:"email",state:c})})]}),Object(w.jsxs)(O.a.Group,{children:[Object(w.jsx)(O.a.Label,{children:"Password"}),Object(w.jsx)(x.a,{controlId:"floatingPassword",label:"New Password",className:"mb-3",children:Object(w.jsx)(E,{type:"password",label:"New Password",ac:"new-password",state:a})}),Object(w.jsx)(x.a,{controlId:"floatingPassword",label:"Confirm Password",className:"mb-3",children:Object(w.jsx)(E,{type:"password",label:"Confirm Password",ac:"confirm-password",state:s})})]}),Object(w.jsx)(f.a,{type:"submit",children:"Register"})]})})]})})}var H=c(154);function T(){var e=Object(n.useContext)(j).createAlert,t=W(""),c=W("");return Object(w.jsx)(u.a,{sm:8,lg:7,xl:6,children:Object(w.jsxs)(h.a,{children:[Object(w.jsx)(h.a.Header,{children:Object(w.jsx)("h2",{children:"Login"})}),Object(w.jsx)("br",{}),Object(w.jsxs)(h.a.Body,{children:[Object(w.jsx)(h.a.Title,{children:"Login Methods:"}),Object(w.jsxs)(H.a,{defaultActiveKey:"1",children:[Object(w.jsxs)(H.a.Item,{eventKey:"0",children:[Object(w.jsx)(H.a.Header,{children:"Email and Password"}),Object(w.jsxs)(H.a.Body,{children:[Object(w.jsxs)(O.a,{onSubmit:function(n){n.preventDefault();var a=function(e,t,c){var n;return Object(y.e)(L,e,t).then((function(){c("Welcome back to Bankify","success","Successful Login!"),n=!0})).catch((function(e){return c(e.message,"danger")})),n}(t.value,c.value,e);a&&(t.clear(),c.clear())},className:"mb-3",children:[Object(w.jsx)(O.a.Group,{children:Object(w.jsx)(x.a,{controlId:"floatingInput",label:"Email",className:"mb-3",children:Object(w.jsx)(E,{label:"Email",ac:t,state:t})})}),Object(w.jsx)("br",{}),Object(w.jsx)(O.a.Group,{children:Object(w.jsx)(x.a,{controlId:"floatingPassword",label:"Password",className:"mb-3",children:Object(w.jsx)(E,{label:"Password",ac:"current-password",state:c})})}),Object(w.jsx)(f.a,{type:"submit",children:"Login"})]}),Object(w.jsx)(h.a.Footer,{})]})]}),Object(w.jsx)(H.a.Item,{eventKey:"1",children:Object(w.jsx)(H.a.Header,{onClick:function(t){t.preventDefault(),function(e){var t=new y.a;t.addScope("profile"),t.addScope("email"),Object(y.f)(L,t).then((function(t){e("Welcome back to Bankify","success","Successful Login!")})).catch((function(t){return e(t.message,"danger")}))}(e)},children:"Google"})})]})]}),Object(w.jsx)(h.a.Footer,{})]})})}function R(e,t){var c=Object(n.useState)(!1),a=Object(i.a)(c,2),s=a[0],r=a[1];return{show:s,open:function(){return r(!0)},close:function(){return r(!1)},transaction:e,account:t}}var U=c(147);function G(e){var t=e.msg,c=e.type,n=void 0===c?"danger":c,a=e.heading,s=void 0===a?"":a,r=e.reset,i=void 0===r?"":r;return t?(setTimeout(i,4e3),Object(w.jsxs)(U.a,{variant:n,onClose:i,dismissible:!0,children:[s&&Object(w.jsx)(U.a.Heading,{children:s}),Object(w.jsx)("p",{children:t})]})):null}var z=c(155);function K(e){var t=Object(n.useState)(""),c=Object(i.a)(t,2),a=c[0],s=c[1],r=Object(n.useState)(""),o=Object(i.a)(r,2),j=o[0],l=o[1],b=e.transaction,d=e.account,u=e.show,h=e.close,x=e.state,m=Object(i.a)(x,2),p=m[0],g=m[1],v=function(){l("Must be a Number!")},y=function(){l("")},k=function(e){e.preventDefault(),s(e.target.value)},N=function(){var e=Number(a);return Number.isInteger(e)?e<=0||e<1e6?(v(),s(""),!1):"Deposit"===b||e<=p||(v("Withdraw may not exceed existing balance of $".concat(p)),s(p),!1):(v(),s(""),!1)},C=function(e){return p-e},S=function(e){return p+e},D=function(){return Object(w.jsxs)(O.a.Group,{className:"mb-3",children:[Object(w.jsx)(O.a.Label,{children:"".concat(b," Amount")}),Object(w.jsx)("input",{id:"modal-input",autoComplete:"off",className:"form-control mb-3",value:a,onChange:k,required:!0})]})},A=function(){s(""),h(),y()};return Object(w.jsxs)(z.a,{show:u,onHide:A,backdrop:"static",children:[Object(w.jsx)(z.a.Header,{closeButton:!0,children:Object(w.jsx)(z.a.Title,{children:"".concat(b," into ").concat(d)})}),Object(w.jsxs)(O.a,{onSubmit:function(e){if(e.preventDefault(),N){var t=("Deposit"===b?S:C)(p);g(t),h()}},children:[Object(w.jsxs)(z.a.Body,{children:[Object(w.jsx)(G,{msg:j,reset:y}),Object(w.jsx)(D,{})]}),Object(w.jsxs)(z.a.Footer,{children:[Object(w.jsx)(f.a,{variant:"secondary",onClick:A,children:"End Transaction"}),Object(w.jsx)(f.a,{type:"submit",variant:"primary",children:b})]})]})]})}function $(){var e=Object(n.useState)(0),t=Object(i.a)(e,2),c=(t[0],t[1]),a=Object(n.useState)(0),s=Object(i.a)(a,2),r=(s[0],s[1]),l=R("Deposit","Checking"),b=R("Withdraw","Checking"),d=R("Deposit","Savings"),O=R("Withdraw","Savings"),x=Object(n.useState)(null),f=Object(i.a)(x,2),m=f[0],p=f[1],g=Object(n.useContext)(j).user;Object(n.useEffect)((function(){m?(r(m.savings),c(m.checking)):function(e,t){var c={method:"get",url:"/api",headers:{Authorization:"Bearer ".concat(e.accessToken)}};Object(A.a)(D.a.mark((function e(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I()(c).then((function(e){return e.data})).then((function(e){t(e)})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)})))()}(g,p)}));var v=g.displayName?g.displayName.toUpperCase():"USER",y=g.photoURL,k=function(){return y||(y="https://react-bootstrap.github.io/logo.svg"),Object(w.jsx)("img",{src:y,className:"avatar-img"})};return Object(w.jsxs)(u.a,{sm:8,lg:7,xl:6,children:[Object(w.jsxs)(h.a,{children:[Object(w.jsx)(M,{children:Object(w.jsx)(k,{})}),Object(w.jsxs)(h.a.Body,{className:"justify-content-center align-item-center",children:[Object(w.jsx)(h.a.Text,{children:"Hello ".concat(v,"!")}),console.log(g),console.log(m),m&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(q,{title:"Checking",balance:m.checking,openDeposit:l.open,openWithdraw:b.open}),Object(w.jsx)("hr",{}),Object(w.jsx)(q,{title:"Savings",balance:m.savings,openDeposit:d.open,openWithdraw:O.open})]})]})]}),Object(w.jsx)(K,Object(o.a)(Object(o.a)({},l),{},{state:e})),Object(w.jsx)(K,Object(o.a)(Object(o.a)({},b),{},{state:e})),Object(w.jsx)(K,Object(o.a)(Object(o.a)({},d),{},{state:a})),Object(w.jsx)(K,Object(o.a)(Object(o.a)({},O),{},{state:a}))]})}function M(e){return Object(w.jsx)(h.a.Header,{children:Object(w.jsxs)(b.a,{className:"align-items-center",children:[Object(w.jsx)(u.a,{children:Object(w.jsx)("h2",{children:"Dashboard"})}),Object(w.jsx)(u.a,{sm:"3",className:"align-item-end",children:e.children})]})})}function q(e){var t=e.title,c=e.balance,n=e.openDeposit,a=e.openWithdraw;return Object(w.jsxs)("div",{className:"panel-".concat(t.toLowerCase()),children:[Object(w.jsx)(h.a.Title,{children:t}),Object(w.jsx)("br",{}),Object(w.jsxs)("div",{className:"input-group mb-3",children:[Object(w.jsx)("span",{className:"input-group-text",children:"$"}),Object(w.jsx)("span",{className:"form-control","aria-label":"Amount",children:"".concat(c,".00")}),Object(w.jsx)(f.a,{variant:"outline-primary",id:"deposit",onClick:n,children:"Deposit"}),Object(w.jsx)(f.a,{variant:"outline-primary",id:"withdraw",onClick:a,children:"Withdraw"})]})]})}var J=c(27);function V(e){e.user;return Object(w.jsx)(u.a,{sm:8,lg:7,xl:6,children:Object(w.jsxs)(h.a,{children:[Object(w.jsx)(h.a.Header,{children:Object(w.jsx)("h2",{children:"Welcome to Bankify"})}),Object(w.jsxs)(h.a.Body,{children:[Object(w.jsxs)(h.a.Text,{children:[Object(w.jsx)("p",{children:"Bankify is the banking solution for you! With local branches across the United States, we serve our customers with services like: withdraw, deposit, balances, and hack the system."}),Object(w.jsx)("p",{children:"While not FDIC insured, client-side Firebase Authentication does keep you passwords safe. Not bad ehh?"})]}),Object(w.jsx)(J.b,{to:"/register",children:Object(w.jsx)(f.a,{type:"link",children:"Register Now"})}),"      ",Object(w.jsx)(J.b,{to:"/login",children:Object(w.jsx)(f.a,{type:"link",children:"Login"})})]})]})})}var X=c(149);function Z(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),c=t[0],a=t[1],s=Object(n.useContext)(j).createAlert;function r(){var e;I.a.get("/backdoor").then((function(e){return e.data})).then((function(t){e=t})).catch((function(e){console.log(e)})).then((function(){a(e)})),s(e?"":"Data Fetch Error","danger")}function o(){return c&&0!==c.length?Object(w.jsxs)(X.a,{striped:!0,bordered:!0,hover:!0,style:{tableLayout:"fixed"},children:[Object(w.jsx)("thead",{children:Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{children:"#"}),Object(w.jsx)("th",{children:"Name"}),Object(w.jsx)("th",{children:"Email"}),Object(w.jsx)("th",{children:"uid"}),Object(w.jsx)("th",{children:"Checking Balance"}),Object(w.jsx)("th",{children:"Savings Balance"})]})}),Object(w.jsx)("tbody",{children:c.map((function(e,t){return Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{children:t+1}),Object(w.jsx)("td",{children:e.name||""}),Object(w.jsx)("td",{children:e.email||""}),Object(w.jsxs)("td",{children:[e.uid||""," "]}),Object(w.jsx)("td",{children:"$".concat(String(e.checking),".00")}),Object(w.jsxs)("td",{children:["$".concat(String(e.savings),".00")," "]})]},t)}))})]}):Object(w.jsx)("div",{children:"loading..."})}return Object(n.useEffect)((function(){Object(A.a)(D.a.mark((function e(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r();case 1:case"end":return e.stop()}}),e)})))()}),[]),Object(w.jsx)(h.a,{children:Object(w.jsx)(h.a.Body,{children:Object(w.jsx)(o,{})})})}function Y(){var e=Object(n.useContext)(j),t=e.user;e.createAlert;return Object(w.jsx)(d.d,{children:Object(w.jsx)(l.a,{fluid:!0,children:Object(w.jsxs)(b.a,{className:"justify-content-center",children:[Object(w.jsx)(d.b,{exact:!0,path:"/register",children:t?Object(w.jsx)(d.a,{to:"/dashboard"}):Object(w.jsx)(F,{})}),Object(w.jsx)(d.b,{exact:!0,path:"/login",children:t?Object(w.jsx)(d.a,{to:"/dashboard"}):Object(w.jsx)(T,{})}),Object(w.jsx)(d.b,{exact:!0,path:"/dashboard",children:t?Object(w.jsx)($,{}):Object(w.jsx)(d.a,{to:"/"})}),Object(w.jsx)(d.b,{exact:!0,path:"/alldata",children:Object(w.jsx)(Z,{})}),Object(w.jsx)(d.b,{exact:!0,path:"/",children:t?Object(w.jsx)($,{}):Object(w.jsx)(V,{})})]})})})}var Q=c(152),_=c(153);function ee(){return Object(w.jsx)(Q.a,{collapseOnSelect:!0,expand:"md",bg:"dark",variant:"dark",sticky:!0,children:Object(w.jsxs)(l.a,{className:"justify-content-space-between",children:[Object(w.jsx)(J.b,{to:"/",className:"navbar-brand nav-link",children:"Bankify"}),Object(w.jsx)(Q.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(w.jsx)(Q.a.Collapse,{id:"responsive-navbar-nav",className:"justify-content-end",children:Object(w.jsx)(_.a,{children:Object(w.jsx)(te,{})})})]})})}function te(){var e=Object(n.useContext)(j).createAlert,t=function(){return Object(w.jsx)(J.b,{to:"/alldata",className:"nav-link",children:"All Data"})},c=Object(n.useContext)(j).user?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(J.b,{to:"/dashboard",className:"nav-link",children:"Dashboard"}),Object(w.jsx)(t,{}),Object(w.jsx)(J.b,{to:"/",className:"nav-link",onClick:function(){return function(e){Object(y.g)(L).then((function(){e?e("Come back soon!","secondary"):console.log("Successful Logout")})).catch((function(t){e&&e(t.message,"danger")}))}(e)},children:"Logout"})]}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(J.b,{to:"/login",className:"nav-link",children:"Login"}),Object(w.jsx)(J.b,{to:"/register",className:"nav-link",children:"Register"}),Object(w.jsx)(t,{})]});return c}function ce(){var e=Object(n.useContext)(j).user,t=function(){var e=Object(n.useContext)(j);return{msg:e.msg,type:e.type,heading:e.heading,reset:e.reset}}();return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(ee,{}),Object(w.jsx)(G,Object(o.a)({},t)),Object(w.jsx)(Y,{user:e})]})}var ne=Object(n.createContext)();function ae(e){var t=Object(n.useState)((Object(y.d)(L,(function(e){return e}))(),null)),c=Object(i.a)(t,2),a=c[0],s=c[1];return Object(w.jsx)(ne.Provider,{value:{user:a,setUser:s},children:e.children})}function se(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(""),r=Object(i.a)(s,2),o=r[0],l=r[1],b=Object(n.useState)(""),d=Object(i.a)(b,2),u=d[0],h=d[1],O=Object(n.useState)("danger"),x=Object(i.a)(O,2),f=x[0],m=x[1],p=C();Object(y.d)(p,(function(e){a(e)}));var g={msg:o,type:f,heading:u,reset:function(){l(""),m("danger"),h("")}};return Object(w.jsx)(ae,{children:Object(w.jsx)(j.Provider,{value:{user:c,setUser:a,createAlert:function(e,t,c){l(e),m(t),h(c)},alertProps:g},children:Object(w.jsx)(J.a,{children:Object(w.jsx)(ce,{})})})})}r.a.render(Object(w.jsx)(a.a.StrictMode,{children:Object(w.jsx)(se,{})}),document.getElementById("root"))}},[[142,1,2]]]);
//# sourceMappingURL=main.cb67b27c.chunk.js.map